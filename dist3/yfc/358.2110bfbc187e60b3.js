"use strict";(self.webpackChunkyfc=self.webpackChunkyfc||[]).push([[358],{6358:(B,c,r)=>{r.r(c),r.d(c,{ResetUserModule:()=>M});var p=r(6814),i=r(95),a=r(5286),e=r(5879),u=r(9045),f=r(3712),h=r(9140),g=r(4471),_=r(6368);function v(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email is required."),e.qZA())}function w(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Invalid email format or missing domain extension."),e.qZA())}function b(o,n){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,v,2,0,"div",17),e.YNc(2,w,2,0,"div",17),e.qZA()),2&o){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",null==s.email||null==s.email.errors?null:s.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.email||null==s.email.errors?null:s.email.errors.pattern)}}function Z(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," Generate OTP "),e.qZA())}function C(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," Please Wait ... "),e.qZA())}const T=function(){return["/login"]};let y=(()=>{class o{constructor(s,t,l,m,d){this._router=s,this._api=t,this._snackbar=l,this._storage=m,this._e=d,this.generate_otp_form=new i.cw({email:new i.NI("",[i.kI.required,i.kI.pattern(/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/)])}),this.isLoading=!1,this.showPassword=!1,this.imageSpinner=this._storage.imageSpinner}ngOnInit(){}ngOnDestroy(){this.generateSubscription&&this.generateSubscription.unsubscribe()}get email(){return this.generate_otp_form.get("email")}generate_otp(){let s={email:this.generate_otp_form.value.email?.trim()};this.isLoading=!0;const t={next:l=>{if(this.isLoading=!1,"00"===l.statusCode){const m=this._e.encryptR(JSON.stringify(s.email));sessionStorage.setItem("xxxcf==",m),this._snackbar.showSnackbar("OTP has been sent to your email","Close"),this._router.navigate(["/reset/complete-reset"])}else this._snackbar.showSnackbar("96"===l.statusCode?l.statusMessage:"Opps! Something Went Wrong!","Close")},error:l=>{this.isLoading=!1,this._snackbar.showSnackbar("Opps! Something Went Wrong!","Close")}};this.generateSubscription=this._api.generate_otp(s).subscribe(t)}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(a.F0),e.Y36(u.s),e.Y36(f.o),e.Y36(h.V),e.Y36(g.C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-generate-otp"]],decls:28,vars:7,consts:[[1,"d-flex","align-items-center","justify-contents-center"],[1,"left-wrapper","col-lg-6","col-md-12","col-sm-12","p-5","login-bground"],[1,"logo","mb-3"],["src","assets/images/yfc.png","alt","",1,"form-logo"],[1,"text-primary-emphasis","col-12","mb-5"],[1,"display-6","mb-3"],[1,"col-lg-12","col-md-12","col-sm-12"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3","col-lg-10","col-md-12","col-sm-12","mb-5"],[1,"form-label","fw-semibold"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"bi","bi-envelope-fill"],["type","email","autocomplete","password","formControlName","email","placeholder","Enter your email",1,"form-control"],["style","color: red !important;",4,"ngIf"],[1,"d-grid","col-lg-6","col-md-6","col-sm-12","mx-auto","mb-3","text-center"],["type","submit",1,"btn","btn-lg","text-white","y4c-color","mb-3",3,"disabled"],[4,"ngIf"],[1,"form-label"],[3,"routerLink"],[2,"color","red !important"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"h4",5)(6,"strong"),e._uU(7,"Recover your Password"),e.qZA()(),e.TgZ(8,"h6"),e._uU(9,"Enter the correct email in the field below"),e.qZA()(),e.TgZ(10,"div",6)(11,"form",7),e.NdJ("ngSubmit",function(){return t.generate_otp()}),e.TgZ(12,"div",8)(13,"label",9),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"div",10)(16,"span",11),e._UZ(17,"i",12),e.qZA(),e._UZ(18,"input",13),e.qZA(),e.YNc(19,b,3,2,"div",14),e.qZA(),e.TgZ(20,"div",15)(21,"button",16),e.YNc(22,Z,2,0,"span",17),e.YNc(23,C,2,0,"span",17),e.qZA(),e.TgZ(24,"label",18)(25,"a",19),e._uU(26,"Back to login"),e.qZA()()()()()(),e._UZ(27,"welcome-image"),e.qZA()),2&s&&(e.xp6(11),e.Q6J("formGroup",t.generate_otp_form),e.xp6(8),e.Q6J("ngIf",(null==t.email?null:t.email.invalid)&&((null==t.email?null:t.email.dirty)||(null==t.email?null:t.email.touched))),e.xp6(2),e.Q6J("disabled",t.generate_otp_form.invalid||t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(2),e.Q6J("routerLink",e.DdM(6,T)))},dependencies:[p.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,a.rH,_.X]}),o})();var A=r(3251),q=r(747);function U(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password is required."),e.qZA())}function J(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password must be a minimum of 6 characters."),e.qZA())}function x(o,n){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,U,2,0,"div",22),e.YNc(2,J,2,0,"div",22),e.qZA()),2&o){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",null==s.password||null==s.password.errors?null:s.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.password||null==s.password.errors?null:s.password.errors.minlength)}}function R(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Confirm password is required."),e.qZA())}function I(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Passwords do not match."),e.qZA())}function S(o,n){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,R,2,0,"div",22),e.YNc(2,I,2,0,"div",22),e.qZA()),2&o){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",null==s.confirmpassword||null==s.confirmpassword.errors?null:s.confirmpassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.confirmpassword||null==s.confirmpassword.errors?null:s.confirmpassword.errors.mustMatch)}}function N(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"OTP is required."),e.qZA())}function O(o,n){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,N,2,0,"div",22),e.qZA()),2&o){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",null==s.otp||null==s.otp.errors?null:s.otp.errors.required)}}function P(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," Submit "),e.qZA())}function Y(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," Please Wait ... "),e.qZA())}const k=function(){return["/login"]},Q=[{path:"generate-otp",component:y},{path:"complete-reset",component:(()=>{class o{constructor(s,t,l,m,d,F,W){this._router=s,this._api=t,this._snackbar=l,this._alert=m,this._validator=d,this._encrypt=F,this._formBuilder=W,this.complete_reset_form=new i.cw({otp:new i.NI(""),password:new i.NI(""),confirmpassword:new i.NI("")}),this.email="",this.isLoading=!1,this.showPassword=!1,this.showConfirmPassword=!1,this.imageSpinner="assets/images/spin.gif"}ngOnInit(){if(sessionStorage.getItem("xxxcf==")){const s=sessionStorage.getItem("xxxcf==");this.email=JSON.parse(this._encrypt.decryptR(s)),this.initializeForm()}else this._router.navigate(["/reset/generate-otp"])}ngOnDestroy(){this.completeSubscription&&this.completeSubscription.unsubscribe()}initializeForm(){this.complete_reset_form=this._formBuilder.group({password:["",[i.kI.required,i.kI.minLength(6)]],confirmpassword:["",i.kI.required],otp:["",i.kI.required]},{validator:[this._validator.MustMatch("password","confirmpassword")]})}complete_reset(){let s={token:this.complete_reset_form.value.otp?.trim(),email:this.email,newPassword:this.complete_reset_form.value.password?.trim()};this.isLoading=!0,this.completeSubscription=this._api.validate_otp(s).subscribe(this.completeResetObserver())}completeResetObserver(){return{next:t=>{"00"===t.statusCode?this._alert.toast_top_end_success("Reset successful, proceed to login").then(()=>{this.isLoading=!1,sessionStorage.removeItem("xxxcf=="),this._router.navigate(["login"])}):"96"===t.statusCode?(this.isLoading=!1,this._snackbar.showSnackbar(t.statusMessage,"Close")):(this.isLoading=!1,this._snackbar.showSnackbar("Opps! Something Went Wrong!","Close"))},error:t=>{this.isLoading=!1,this._snackbar.showSnackbar("Opps! Something Went Wrong!","Close")}}}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}get otp(){return this.complete_reset_form.get("otp")}get password(){return this.complete_reset_form.get("password")}get confirmpassword(){return this.complete_reset_form.get("confirmpassword")}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(a.F0),e.Y36(u.s),e.Y36(f.o),e.Y36(A.c),e.Y36(q.o),e.Y36(g.C),e.Y36(i.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-complete-reset"]],decls:48,vars:13,consts:[[1,"d-flex","align-items-center","justify-contents-center"],[1,"left-wrapper","col-lg-6","col-md-12","col-sm-12","p-5","login-bground"],[1,"logo","mb-3"],["src","assets/images/yfc.png","alt","",1,"form-logo"],[1,"text-primary-emphasis","col-12","mb-5"],[1,"display-6","mb-3"],[1,"col-lg-12","col-md-12","col-sm-12"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3","col-lg-10","col-md-12","col-sm-12","mb-5"],[1,"form-label","fw-semibold"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"bi","bi-lock-fill"],["autocomplete","off","autocomplete","off","formControlName","password","placeholder","Password",1,"form-control",3,"type"],[1,"input-group-text",3,"click"],[1,"bi",3,"ngClass"],["style","color: red !important;",4,"ngIf"],["autocomplete","off","autocomplete","off","formControlName","confirmpassword","placeholder","Confirm Password",1,"form-control",3,"type"],[1,"bi","bi-envelope-fill"],["type","text","autocomplete","off","autocomplete","off","formControlName","otp","placeholder","Enter otp",1,"form-control"],[1,"d-grid","col-lg-6","col-md-6","col-sm-12","mx-auto","mb-3","text-center"],["type","submit",1,"btn","btn-lg","text-white","y4c-color","mb-3",3,"disabled"],[4,"ngIf"],[1,"form-label"],[3,"routerLink"],[2,"color","red !important"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"h4",5)(6,"strong"),e._uU(7,"Recover your Password"),e.qZA()(),e.TgZ(8,"h6"),e._uU(9," Enter the correct email in the field below and provide a better and safer password "),e.qZA()(),e.TgZ(10,"div",6)(11,"form",7),e.NdJ("ngSubmit",function(){return t.complete_reset()}),e.TgZ(12,"div",8)(13,"label",9),e._uU(14,"New Password"),e.qZA(),e.TgZ(15,"div",10)(16,"span",11),e._UZ(17,"i",12),e.qZA(),e._UZ(18,"input",13),e.TgZ(19,"span",14),e.NdJ("click",function(){return t.togglePasswordVisibility()}),e._UZ(20,"i",15),e.qZA()(),e.YNc(21,x,3,2,"div",16),e.qZA(),e.TgZ(22,"div",8)(23,"label",9),e._uU(24,"Confirm New Password"),e.qZA(),e.TgZ(25,"div",10)(26,"span",11),e._UZ(27,"i",12),e.qZA(),e._UZ(28,"input",17),e.TgZ(29,"span",14),e.NdJ("click",function(){return t.toggleConfirmPasswordVisibility()}),e._UZ(30,"i",15),e.qZA()(),e.YNc(31,S,3,2,"div",16),e.qZA(),e.TgZ(32,"div",8)(33,"label",9),e._uU(34,"OTP"),e.qZA(),e.TgZ(35,"div",10)(36,"span",11),e._UZ(37,"i",18),e.qZA(),e._UZ(38,"input",19),e.qZA(),e.YNc(39,O,2,1,"div",16),e.qZA(),e.TgZ(40,"div",20)(41,"button",21),e.YNc(42,P,2,0,"span",22),e.YNc(43,Y,2,0,"span",22),e.qZA(),e.TgZ(44,"label",23)(45,"a",24),e._uU(46," Back to login "),e.qZA()()()()()(),e._UZ(47,"welcome-image"),e.qZA()),2&s&&(e.xp6(11),e.Q6J("formGroup",t.complete_reset_form),e.xp6(7),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(2),e.Q6J("ngClass",t.showPassword?"bi-eye-fill":"bi-eye-slash-fill"),e.xp6(1),e.Q6J("ngIf",(null==t.password?null:t.password.invalid)&&((null==t.password?null:t.password.dirty)||(null==t.password?null:t.password.touched))),e.xp6(7),e.Q6J("type",t.showConfirmPassword?"text":"password"),e.xp6(2),e.Q6J("ngClass",t.showConfirmPassword?"bi-eye-fill":"bi-eye-slash-fill"),e.xp6(1),e.Q6J("ngIf",(null==t.confirmpassword?null:t.confirmpassword.invalid)&&((null==t.confirmpassword?null:t.confirmpassword.dirty)||(null==t.confirmpassword?null:t.confirmpassword.touched))),e.xp6(8),e.Q6J("ngIf",(null==t.otp?null:t.otp.invalid)&&((null==t.otp?null:t.otp.dirty)||(null==t.otp?null:t.otp.touched))),e.xp6(2),e.Q6J("disabled",t.complete_reset_form.invalid||t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(2),e.Q6J("routerLink",e.DdM(12,k)))},dependencies:[p.mk,p.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,a.rH,_.X]}),o})()}];let L=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.Bz.forChild(Q),a.Bz]}),o})();var G=r(4954);let M=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,i.u5,i.UX,L,G.m]}),o})()}}]);